@using Almotkaml.HR
@model StacoPersonalModel
@{
    var displayAvatar = "none";
}
@if (ViewBag.KeepPanelOpen == true)
{
    displayAvatar = "";
}

<div class="panel-body">
@Html.AntiForgeryToken()
@Html.SavedModel(Model)
<div>
    @Html.AjaxNote()
</div>
    <div class="row">
    <div class="col-lg-12">
    
    <div style="display: @displayAvatar" id="avatarPanel" class="row">
        <div class="col-lg-6 col-md-6 col-sm-12"></div>
        <div class="col-lg-6 col-md-6 col-sm-6">
            <table data-order='[]' class="table table-striped table-bordered table-hover">
                <tr>
                    <td>
                        <div class="form-group">
                            @Html.Label("تحميل صورة شخصية")
                            <input name="uploadedfile" type="file" accept=".jpeg, .jpg, .png"/>
                            <input name="uploadAvatar" type="hidden" id="uploadAvatar" value=""/>
                            <input type="submit" value="upload" onclick="UploadSingle('uploadAvatar', 'true'); ManageSuccess();" class="file btn btn-primary btn-outline"/>
                        </div>
                    </td>
                    <td style="text-align: center">
                        @if (Model.ImageIsSet)
                        {
                            var base64 = Convert.ToBase64String(Model.Image);
                            var imgSrc = $"data:image/gif;base64,{base64}";
                            <img height="100" alt="@Model.FirstName" src="@imgSrc"/>
                        }
                        else if (Model.HaveImage)
                        {
                            <img height="100" src="@Url.Action("GetAvatar", new {id = Model.EmployeeId})" alt="@Model.FirstName"/>
                        }
                        else
                        {
                            <i class="fa fa-user-circle-o" style="font-size: 7em"></i>
                        }
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <fieldset class="almotkaml-fieldset-two">
        <legend>البيانات الشخصية</legend>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.FirstName)
                @Html.TextBoxFor(model => model.FirstName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.FirstName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.FatherName)
                @Html.TextBoxFor(model => model.FatherName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.FatherName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.GrandfatherName)
                @Html.TextBoxFor(model => model.GrandfatherName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.GrandfatherName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.LastName)
                @Html.TextBoxFor(model => model.LastName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.LastName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.EnglishFirstName)
                @Html.TextBoxFor(model => model.EnglishFirstName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.EnglishFirstName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.EnglishFatherName)
                @Html.TextBoxFor(model => model.EnglishFatherName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.EnglishFatherName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.EnglishGrandfatherName)
                @Html.TextBoxFor(model => model.EnglishGrandfatherName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.EnglishGrandfatherName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.EnglishLastName)
                @Html.TextBoxFor(model => model.EnglishLastName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.EnglishLastName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.NationalNumber)
                @Html.TextBoxFor(model => model.NationalNumber, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.NationalNumber)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.BirthPlace)
                @Html.TextBoxFor(model => model.BirthPlace, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.BirthPlace)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.BirthDate)
                @Html.DatePickerFor(model => model.BirthDate)
                @Html.ValidationMessageFor(model => model.BirthDate)

            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.Gender, new {@class = "control-label"})
                @Html.EnumDropDownListFor(model => model.Gender, new {@class = "field_menu form-control"})
                @Html.ValidationMessageFor(model => model.Gender, null, new {@class = "has_error"})

            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.Address)
                @Html.TextBoxFor(model => model.Address, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.Address)
            </div>
        </div>

        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.BranchId)
                @Html.DropDownListFor(model => model.BranchId, new SelectList(Model.BranchList, nameof(BranchListItem.BranchId), nameof(BranchListItem.Name)), "--اختر--", new {@class = "field_menu form-control", onchange = "$(this.form).submit()"})
                @Html.ValidationMessageFor(model => model.BranchId)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.PlaceId)
                @Html.DropDownListFor(model => model.PlaceId, new SelectList(Model.PlaceList, nameof(PlaceListItem.PlaceId), nameof(PlaceListItem.Name)), "--اختر--", new {@class = "field_menu form-control"})
                @Html.ValidationMessageFor(model => model.PlaceId)
            </div>
        </div>

        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.MotherName)
                @Html.TextBoxFor(model => model.MotherName, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.MotherName)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.LibyanOrForeigner, new {@class = "control-label"})
                @Html.EnumDropDownListFor(model => model.LibyanOrForeigner, new {@class = "field_menu form-control", onchange = "$(this.form).submit()"})
                @Html.ValidationMessageFor(model => model.LibyanOrForeigner, null, new {@class = "has_error"})

            </div>
        </div>
        @if (Model.LibyanOrForeigner == LibyanOrForeigner.Foreigner)
        {
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="form-group">
                    @Html.LabelFor(model => model.NationalityId)
                    @Html.DropDownListFor(model => model.NationalityId, new SelectList(Model.NationalityList, nameof(NationalityListItem.NationalityId), nameof(NationalityListItem.Name)), "--اختر--", new {@class = "field_menu form-control"})
                    @Html.ValidationMessageFor(model => model.NationalityId)
                </div>
            </div>
        }
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.Religion, new {@class = "control-label"})
                @Html.EnumDropDownListFor(model => model.Religion, new {@class = "field_menu form-control"})
                @Html.ValidationMessageFor(model => model.Religion, null, new {@class = "has_error"})

            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.SocialStatus, new {@class = "control-label"})
                @Html.EnumDropDownListFor(model => model.SocialStatus, new {@class = "field_menu form-control", onchange = "$(this.form).submit()"})
                @Html.ValidationMessageFor(model => model.SocialStatus, null, new {@class = "has_error"})

            </div>
        </div>

        @if (Model.SocialStatus == SocialStatus.MarridAndNurture || Model.SocialStatus == SocialStatus.DivorceeAndNurture ||
             Model.SocialStatus == SocialStatus.WidowerAndNurture)
        {
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="form-group">
                    @Html.LabelFor(model => model.ChildernCount)
                    @Html.TextBoxFor(model => model.ChildernCount, new {@class = "field_text form-control"})
                    @Html.ValidationMessageFor(model => model.ChildernCount)
                </div>
            </div>
        }
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.BloodType, new {@class = "control-label"})
                @Html.EnumDropDownListFor(model => model.BloodType, new {@class = "field_menu form-control"})
                @Html.ValidationMessageFor(model => model.BloodType, null, new {@class = "has_error"})

            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.Phone)
                @Html.TextBoxFor(model => model.Phone, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.Phone)
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="form-group">
                @Html.LabelFor(model => model.Email)
                @Html.TextBoxFor(model => model.Email, new {@class = "field_text form-control"})
                @Html.ValidationMessageFor(model => model.Email)
            </div>
        </div>
    </fieldset>
    </div>
    <br/>
    <br/>
                <div class="col-lg-12">
                    <fieldset class="almotkaml-fieldset-three">
                        <legend>بيانات البطاقة الشخصية</legend>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.IdentificationCard.Number)
                                @Html.TextBoxFor(model => model.IdentificationCard.Number, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.IdentificationCard.Number)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.IdentificationCard.IssueDate)
                                @Html.DatePickerFor(model => model.IdentificationCard.IssueDate)
                                @Html.ValidationMessageFor(model => model.IdentificationCard.IssueDate)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.IdentificationCard.IssuePlace)
                                @Html.TextBoxFor(model => model.IdentificationCard.IssuePlace, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.IdentificationCard.IssuePlace)
                            </div>
                        </div>
                       
                    </fieldset>
                </div>
                <div class="col-lg-12">
                    <fieldset class="almotkaml-fieldset-two">
                        <legend>بيانات جواز السفر</legend>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Passport.Number)
                                @Html.TextBoxFor(model => model.Passport.Number, new {@class = "field_text form-control"})
                                @Html.ValidationMessageFor(model => model.Passport.Number)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Passport.AutoNumber)
                                @Html.TextBoxFor(model => model.Passport.AutoNumber, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.Passport.AutoNumber)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Passport.IssueDate)
                                @Html.DatePickerFor(model => model.Passport.IssueDate)
                                @Html.ValidationMessageFor(model => model.Passport.IssueDate)
                            </div>
                        </div>
                       
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Passport.IssuePlace)
                                @Html.TextBoxFor(model => model.Passport.IssuePlace, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.Passport.IssuePlace)
                            </div>
                        </div>
                      
                    </fieldset>
                </div>
                <div class="col-lg-12">
                    <fieldset class="almotkaml-fieldset-two">
                        <legend>بيانات كتيب العائلة</legend>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Booklet.Number)
                                @Html.TextBoxFor(model => model.Booklet.Number, new {@class = "field_text form-control"})
                                @Html.ValidationMessageFor(model => model.Booklet.Number)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Booklet.RegistrationNumber)
                                @Html.TextBoxFor(model => model.Booklet.RegistrationNumber, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.Booklet.RegistrationNumber)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Booklet.FamilyNumber)
                                @Html.TextBoxFor(model => model.Booklet.FamilyNumber, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.Booklet.FamilyNumber)
                            </div>
                        </div>
                       
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Booklet.IssueDate)
                                @Html.DatePickerFor(model => model.Booklet.IssueDate)
                                @Html.ValidationMessageFor(model => model.Booklet.IssueDate)

                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Booklet.IssuePlace)
                                @Html.TextBoxFor(model => model.Booklet.IssuePlace, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.Booklet.IssuePlace)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Booklet.CivilRegistry)
                                @Html.TextBoxFor(model => model.Booklet.CivilRegistry, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.Booklet.CivilRegistry)
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="col-lg-12">
                    <fieldset class="almotkaml-fieldset-two">
                        <legend>بيانات الاتصال</legend>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.ContactInfo.NearKindr)
                                @Html.TextBoxFor(model => model.ContactInfo.NearKindr, new {@class = "field_text form-control"})
                                @Html.ValidationMessageFor(model => model.ContactInfo.NearKindr)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.ContactInfo.RelativeRelation)
                                @Html.TextBoxFor(model => model.ContactInfo.RelativeRelation, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.ContactInfo.RelativeRelation)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.ContactInfo.Address)
                                @Html.TextBoxFor(model => model.ContactInfo.Address, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.ContactInfo.Address)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.ContactInfo.WorkAddress)
                                @Html.TextBoxFor(model => model.ContactInfo.WorkAddress, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.ContactInfo.WorkAddress)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.ContactInfo.NearPoint)
                                @Html.TextBoxFor(model => model.ContactInfo.NearPoint, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.ContactInfo.NearPoint)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.ContactInfo.Phone)
                                @Html.TextBoxFor(model => model.ContactInfo.Phone, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.ContactInfo.Phone)
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-4 col-sm-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.ContactInfo.Note)
                                @Html.TextBoxFor(model => model.ContactInfo.Note, new { @class = "field_text form-control" })
                                @Html.ValidationMessageFor(model => model.ContactInfo.Note)
                            </div>
                        </div>
                    </fieldset>
                </div>


        </div>
    </div>
